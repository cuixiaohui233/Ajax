<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
</head>
<body>
	<iframe src="http://www.baidu.com" width="1000" height="500"></iframe>
	<input type="text" id="txt" />
<script type="text/javascript">
	
	/*
		ajax的缺点：
			
			1.不支持浏览器回退前进
			
			2.安全问题
			
		
		跨域（跨源）：
			
			跨出一个范围
			
			源:
				同源策略
				
			同源策略（Same origin policy）是一种约定，
			它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，则浏览器的正常功能可能都会受到影响。可以说Web是构建在同源策略基础之上的，浏览器只是针对同源策略的一种实现。
			
			同源：
				同域名、同端口、同协议
				
			跨源:
				不同域名 || 不同端口 || 不同协议
				
				域名:
					ip地址的取的别名。
				端口:
					指计算机内部或交换机路由器内的端口，不可见。
				协议:
					HTTP/HTTPS 网络超文本传输协议   安全网络超文本传输协议
					file：本地协议
					ftp:文件传输协议
		
			
			解决跨域问题：
				
				1.新版本XMLHttpRequest + 后端设置请求头权限
					
					Access-Control-Allow-Origin
					
				2.服务器代理
					
					使用服务器文件，在默认情况下可以直接跨域
					那么只要把这个服务器文件与请求文件同源就可以实现跨域
				
				3.flash
				
				4.iframe
				
				5.jsonp
					json + padding
					
					json格式的数据内填充 （填充式 JSON 或参数式 JSON）
					
					
					
					
					
					
					
		
		
	*/
	
	
	let txt = document.getElementById('txt');
	
	txt.onblur = function(){
		
		const ajax = new XMLHttpRequest;
		
//		ajax.open('get','http://192.168.2.63/2017-8-3/get.php?user='+encodeURI(txt.value));

		ajax.open('get','php/2.get.php?user='+encodeURI(txt.value));
		
		ajax.send();
		
		ajax.onload = function(){
			
			console.log(ajax.responseText);			
		}

	}
	
	
	
</script>
</body>
</html>